# 贡献指南

<cite>
**本文档中引用的文件**  
- [CONTRIBUTING.md](file://CONTRIBUTING.md)
- [CONTRIBUTING-zh.md](file://CONTRIBUTING-zh.md)
- [GOVERNANCE.md](file://GOVERNANCE.md)
- [CODE_OF_CONDUCT.md](file://CODE_OF_CONDUCT.md)
- [PMC_MEMBERS.md](file://PMC_MEMBERS.md)
- [COMMITTERS.md](file://COMMITTERS.md)
- [README.md](file://README.md)
- [pom.xml](file://pom.xml)
- [tools/src/checkstyle/checkstyle.xml](file://tools/src/checkstyle/checkstyle.xml)
- [Makefile](file://Makefile)
</cite>

## 目录
1. [简介](#简介)
2. [治理结构](#治理结构)
3. [行为准则](#行为准则)
4. [代码贡献流程](#代码贡献流程)
5. [代码风格要求](#代码风格要求)
6. [测试要求](#测试要求)
7. [文档更新规范](#文档更新规范)
8. [调试环境搭建](#调试环境搭建)
9. [项目维护者联系方式](#项目维护者联系方式)

## 简介

感谢您为 Spring AI Alibaba 项目做出贡献！自开源以来，本项目受到了众多社区成员的关注。每一个 Issue 和 Pull Request 都对项目的发展起到了重要作用。我们诚挚邀请更多开发者加入，共同打造更优秀的 Spring AI 生态。

本指南旨在为社区成员提供清晰的参与路径，涵盖从代码贡献到社区治理的各个方面。无论您是初次贡献者还是资深开发者，都可以在这里找到参与项目的方式。

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L1-L90)
- [CONTRIBUTING-zh.md](file://CONTRIBUTING-zh.md#L1-L77)

## 治理结构

Spring AI Alibaba 项目采用清晰的治理结构，确保项目的健康发展和社区的有序管理。

### 项目管理委员会 (PMC)

项目管理委员会（PMC）是项目的最高治理机构，负责项目的整体发展方向和技术监督。PMC 成员拥有与提交者相同的代码库权限，并负责社区管理、决策制定等职责。

**PMC 的主要职责包括**：
- 定义、演进和推广项目愿景、价值观和使命
- 制定项目整体技术方向和路线图
- 管理项目治理结构和政策
- 监督项目资源的访问控制和分配
- 处理安全报告和代码行为准则违规事件
- 作为项目范围内争议和问题的最终裁决点

### 提交者 (Committer)

提交者负责维护和更新 Spring AI Alibaba 项目。他们拥有对整个项目代码库的完全写入权限，可以操作分支、问题、拉取请求等。

**提交者要求**：
- 必须保持活跃状态
- 若连续 6 个月无响应，将被自动移除（除非获得多数 PMC 成员同意延期）
- 新提交者需获得至少 3 名现有 PMC 成员的投票支持

**Section sources**
- [GOVERNANCE.md](file://GOVERNANCE.md#L1-L68)
- [PMC_MEMBERS.md](file://PMC_MEMBERS.md#L1-L16)
- [COMMITTERS.md](file://COMMITTERS.md#L1-L16)

## 行为准则

本项目遵循[贡献者公约行为准则](https://www.contributor-covenant.org/)，致力于营造一个开放、包容的社区环境。

### 期望行为

作为贡献者和维护者，我们承诺：
- 尊重所有通过报告问题、提交功能请求、更新文档、提交拉取请求等方式做出贡献的人
- 确保项目参与对所有人来说都是一次无骚扰的体验
- 尊重不同的经验水平、性别、性别认同和表达方式、性取向、残疾、外貌、体型、种族、民族、年龄、宗教或国籍

### 不可接受的行为

参与者不可接受的行为包括：
- 使用性化语言或图像
- 人身攻击
- 恶意嘲讽或侮辱性评论
- 公开或私下骚扰
- 未经明确许可发布他人的私人信息
- 其他不道德或不专业的行为

项目维护者有权删除、编辑或拒绝不符合本行为准则的评论、提交、代码、维基编辑、问题和其他贡献，或暂时或永久禁止任何他们认为不当、威胁、冒犯或有害的贡献者。

**Section sources**
- [CODE_OF_CONDUCT.md](file://CODE_OF_CONDUCT.md#L1-L30)

## 代码贡献流程

以下是完整的代码贡献流程，帮助您顺利参与项目开发。

### 贡献内容

我们欢迎任何形式的贡献，包括：
- 简单的错别字修正
- Bug 修复
- 新功能开发
- 文档改进
- 与其他开源项目的集成

对于较复杂的修改，建议先在 Issue 中添加 Feature 标签，并简要描述设计和修改点。

### 入门指引

如果您是首次贡献者，可以从 [good first issue](https://github.com/alibaba/spring-ai-alibaba/labels/good%20first%20issue) 或 [help wanted](https://github.com/alibaba/spring-ai-alibaba/labels/help%20wanted) 标签的任务开始。

### 贡献步骤

1. **Fork 仓库**
   - 点击项目页面右上角的 `Fork` 按钮，将仓库复制到您的账户下。

2. **克隆到本地**
   ```bash
   git clone https://github.com/your-username/spring-ai-alibaba.git
   ```

3. **配置 GitHub 信息**
   - 确保 git 配置中的用户名和邮箱与 GitHub 账户匹配
   - 如需为本项目单独设置，可使用 `git config user.name` 和 `git config user.email`

4. **同步最新代码**
   ```bash
   git remote add upstream https://github.com/alibaba/spring-ai-alibaba
   git fetch upstream
   git checkout main
   git rebase upstream/main
   ```

5. **创建特性分支**
   ```bash
   git checkout -b feature/your-feature-name
   ```

6. **开发与测试**
   - 开发功能并确保代码能够通过本地编译
   - 建议使用 `mvn clean package` 命令，该命令会自动格式化代码

7. **本地 CI 检查**
   - 在提交前，建议运行 `make` 命令进行本地持续集成检查
   - 可使用 `make help` 查看更多详细信息

8. **代码风格检查**
   - 运行 `mvn checkstyle:check` 检查代码风格是否符合规范
   - 使用 `mvn spotless:apply` 自动删除未使用的导入

9. **提交代码**
   - 提交信息需遵循规范：`类型(模块): 描述性信息`
   - 示例：`feat(docs): 更新贡献指南`

10. **再次同步最新代码**
    - 提交 PR 前，再次同步主分支代码，解决可能的冲突

11. **提交 Pull Request**
    - 根据 Pull Request 模板说明修改点和实现的功能
    - 等待代码审查和合并

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L11-L89)
- [CONTRIBUTING-zh.md](file://CONTRIBUTING-zh.md#L9-L76)

## 代码风格要求

为保持代码库的一致性和可读性，项目遵循严格的代码风格规范。

### 代码格式

作为 Spring AI 的实现之一，Spring AI Alibaba 直接沿用 Spring AI 项目的代码规范。在提交代码前，请确保已正确配置代码格式规范。

### Checkstyle 配置

项目提供了本地 Checkstyle 检查功能，使用位于 `tools/src/checkstyle/checkstyle.xml` 的配置文件。您可以在项目根目录下执行以下命令进行检查：

```bash
mvn checkstyle:check
```

### 代码清理

为确保代码整洁，请删除 Java 文件中未使用的导入。可以通过以下命令自动完成：

```bash
mvn spotless:apply
```

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L46-L68)
- [pom.xml](file://pom.xml#L377-L403)
- [tools/src/checkstyle/checkstyle.xml](file://tools/src/checkstyle/checkstyle.xml)

## 测试要求

为确保代码质量和稳定性，项目对测试有明确要求。

### 测试覆盖范围

- **单元测试**：所有新功能和修改都必须包含相应的单元测试
- **集成测试**：涉及多个组件交互的功能需要提供集成测试
- 测试代码应覆盖正常流程和异常情况

### 测试执行

项目使用 Maven 作为构建工具，测试执行配置在 `pom.xml` 文件中。您可以使用以下命令运行测试：

```bash
mvn test
```

或运行完整的构建流程，包括测试：

```bash
mvn clean package
```

**Section sources**
- [pom.xml](file://pom.xml#L446-L465)

## 文档更新规范

当代码变更影响到用户使用时，必须相应更新文档。

### 文档位置

- 项目级文档位于根目录的 README.md
- 模块级文档位于各模块的 README.md
- 详细技术文档在项目网站上维护

### 更新要求

- 任何影响 API 或用户行为的变更都必须更新相关文档
- 新功能必须提供使用示例和说明
- 文档应保持最新，与代码实现一致

**Section sources**
- [README.md](file://README.md#L1-L155)

## 调试环境搭建

### 前提条件

- JDK 17 或更高版本
- 选择您的 LLM 提供商并获取 API-KEY

### 快速运行示例

1. 克隆代码库：
   ```bash
   git clone --depth=1 https://github.com/alibaba/spring-ai-alibaba.git
   cd examples/chatbot
   ```

2. 设置 API-KEY：
   ```bash
   export AI_DASHSCOPE_API_KEY=your-api-key
   ```

3. 启动应用：
   ```bash
   mvn spring-boot:run
   ```

4. 访问 UI：
   打开浏览器访问 [http://localhost:8080/chatui/index.html](http://localhost:8080/chatui/index.html)

**Section sources**
- [README.md](file://README.md#L47-L81)

## 项目维护者联系方式

### PMC 成员

| 成员 | 组织 | GitHub |
|------|------|--------|
| Jun Liu | Alibaba | [@chickenlj](https://github.com/chickenlj) |
| Minghui Zhang | Alibaba | [@Cirilla-zmh](https://github.com/Cirilla-zmh) |
| Jianchuan Zhang | Alibaba | [@CZJCC](https://github.com/CZJCC) |
| Tianbing Ye | Alibaba | [@robinyeeh](https://github.com/robinyeeh) |
| Shown Ji | ~ | [@yuluo-yx](https://github.com/yuluo-yx) |

### 提交者

| 成员 | GitHub |
|------|--------|
| Yuqiang He | [sincerity-being](https://github.com/sincerity-being) |
| Zhenting Zhang | [PolarishT](https://github.com/PolarishT) |
| Cai Chen | [robocanic](https://github.com/robocanic) |
| Dong Xia | [brianxiadong](https://github.com/brianxiadong) |
| Wei Wang | [disaster1-tesk](https://github.com/disaster1-tesk) |
| Yuyou Shen | [CoderSerio](https://github.com/CoderSerio) |
| Hongyu Liu | [Aias00](https://github.com/Aias00) |
| Shanghang Zhang | [zhangshenghang](https://github.com/zhangshenghang) |
| Ying Zi | [GTyingzi](https://github.com/GTyingzi) |
| Hong Yan | [HY-love-sleep](https://github.com/HY-love-sleep) |
| VLSMB | [VLSMB](https://github.com/VLSMB) |

### 联系方式

- **钉钉群**：搜索 `130240015687` 加入
- **微信公众号**：扫描 README.md 中的二维码关注

**Section sources**
- [PMC_MEMBERS.md](file://PMC_MEMBERS.md#L1-L16)
- [COMMITTERS.md](file://COMMITTERS.md#L1-L16)
- [README.md](file://README.md#L135-L140)